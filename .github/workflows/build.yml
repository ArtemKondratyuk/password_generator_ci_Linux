name: Build Linux Binary
on:
    push:
        branches: [main]
    workflow_dispatch:
jobs:
    build:
        runs-on: ubuntu-latest        
        steps:
          - name: Checkout repo
            uses: actions/checkout@v4
                 
          - name: Set up Python
            uses: actions/setup-python@v5
            with:
                python-version: '3.11'
                          
          - name: Install dependencies
            run: |
              python -m pip install --upgrade pip           
              pip install -r requirements.txt
              pip install pyinstaller 

          - name: Build Linux binary with PyInstaller  
            run: |             
             pyinstaller --noconfirm --onefile password_generator_Linux main.py
             mv dist/main dist/password_generator

          - name: Upload artifact
            uses: actions/upload-artifact@v4
            with:
              name: password-generator-linux
              path: dist/password_generator_Linux